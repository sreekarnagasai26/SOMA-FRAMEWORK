function t(n={},e){return Object.entries(n).forEach((([n,o])=>{const r=function(t,n,e){return e.addEventListener(t,n),n}(n,o,e);t[n]=r})),n}function n(t,n){const{class:o,style:r,...c}=n;o&&function(t,n){t.className="","string"==typeof n&&(t.className=n);Array.isArray(n)&&t.classList.add(...n)}(t,o),r&&Object.entries(r).forEach((([n,e])=>{!function(t,n,e){t.style[n]=e}(t,n,e)}));for(const[n,o]of Object.entries(c))e(t,n,o)}function e(t,n,e){null==e?removeAttribute(t,n):n.startsWith("data-")?t.setAttribute(n,e):t[n]=e}function o(e,c){switch(e.type){case r.TEXT:!function(t,n){const{value:e}=t,o=document.createTextNode(e);t.el=o,n.append(o)}(e,c);break;case r.ELEMENT:!function(e,r){const{tag:c,props:s,children:i}=e,a=document.createElement(c);(function(e,o,r){const{on:c,...s}=o;r.listeners=t(c,e),n(e,s)})(a,s,e),e.el=a,i.forEach((t=>o(t,a))),r.append(a)}(e,c);break;case r.FRAGMENT:!function(t,n){const{children:e}=t;t.el=n,e.forEach((t=>o(t,n)))}(e,c);break;default:throw new Error(`Can't mouunt DOM of type: ${e.type}`)}}const r={TEXT:"text",ELEMENT:"element",FRAGMENT:"fragment"};function c(t,n={},e=[]){return{tag:t,props:n,children:i(s(e)),type:r.ELEMENT}}function s(t){return t.filter((t=>null!=t))}function i(t){return t.map((t=>"string"==typeof t?a(t):t))}function a(t){return{type:r.TEXT,value:t}}function u(t){return{type:r.FRAGMENT,children:i(s(t))}}o(c("form",{class:"login-form",action:"login"},[c("input",{type:"text",name:"user"}),c("input",{type:"password",name:"pass"}),c("button",{on:{click:login}},["Login"])]),document.body);export{r as DOM_TYPES,c as h,a as hString,u as hfragment,o as mountDOM};
